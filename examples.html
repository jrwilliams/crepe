<!doctype html>
<html>
  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	<title>Crepe Examples</title>

	<link rel="stylesheet" href="stylesheets/styles.css">
	<link rel="stylesheet" href="stylesheets/pygment_trac.css">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
  </head>
  <body>
	<div class="wrapper">

<header>
  
	<h1>Crepe</h1>
</header>
<section>
  <article class="left">
  
	<!-- <p class="view"><a href="https://github.com/jrwilliams/crepe">View the Project on GitHub <small>jrwilliams/crepe</small></a></p> -->
	<h3>Examples: Contents</h3>
	<ul>
	  <li><a href="#prerequisites">Prerequisites</a></li>
	  <li><a href="#gettingstarted">Getting Started</a></li>
	  <li><a href="#nqueens">Example 1: N-Queens</a></li>
	  <li><a href="#tsp">Example 2: Travelling Salesmen</a></li>
	  <li><a href="#nrp">Example 3: Next Release Problem</a></li>
	</ul>
		<p>This project is maintained by <a href="https://github.com/jrwilliams">jrwilliams</a><br/>
		<small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
  </article>
  <article class="right">
	<h3>
	  <a name="prerequisites" class="anchor" href="#prerequisites"><span class="octicon octicon-link"></span></a>Prerequisites
	</h3>
	<p>
	Crepe depends on two things: <a href="http://www.eclipse.org/epsilon">Epsilon</a> and the <a href="http://www.eclipse.org/emf">Eclipse Modeling Framework</a>. Although Crepe can be run without installing Epsilon or EMF, the easiest way to run Crepe will be to <a href="#">install Epsilon</a> which will also download all dependencies. You may also wish to install <a href="http://www.eclipse.org/emfatic">Emfatic</a>, a textual language for defining EMF metamodels.
	</p>
	<p>
	  Crepe is written in the <a href="http://www.eclipse.org/epsilon">Epsilon Object Language</a> (EOL), a model management language. Although fitness functions can be written in Java, you will need to write some EOL code. The examples below should hopefully be self-explanatory, but if you need some extra help in understanding EOL, the Epsilon <a href="http://www.eclipse.org/epsilon">website</a> has a great deal of documentation.
	</p>
	<p>
	  
	</p>
	</article>

  <article class="right">
	<h3>
	  <a name="gettingstarted" class="anchor" href="#gettingstarted"><span class="octicon octicon-link"></span></a>Getting Started
	</h3>
	<ol>
	  <li><strong>Download or clone Crepe repo</strong>
		<p>Either <a href="https://github.com/jrwilliams/crepe/zipball/master">download</a> or <a href="https://github.com/jrwilliams/crepe">clone</a> the Crepe repository. Cloning the repository will enable you to easily pull any new features.</p>
		<p>Clone url: <code>https://github.com/jrwilliams/crepe.git</code></p>
	  </li>
	  <li><strong>Import into Eclipse</strong>
		<p>Import the Crepe projects into Eclipse in the standard way: <code>File &gt; Import... &gt; Existing projects into Workspace</code></p>
	  </li>
	  <li><strong>Create new empty project</strong>
		<p>Create a new project that will contain the your problem's code and models. <code>File &gt; New &gt; Project... &gt; Empty project.</code></p>
		<p>Create two folders in this project: one called <code>models</code> and the other called <code>metamodels</code>.</p>
	  </li>
	  <li><strong>Create new EOL script</strong>
		<p>To apply Crepe to your problem create a new EOL file called, for example, <code>myproblem.eol</code>. See the example below to see how to use this.</p>
	  </li>
	  <li><strong>Create build.xml</strong>
		<p>Crepe is executed using ANT. Create a file called <code>build.xml</code> in your project. See the examples below to see how to use this.</p>
	  </li>
	  </ol>
	<p></p>
  </article>
  <article class="right">
	<h3>
	  <a name="nqueens" class="anchor" href="#crepe-canonical-representation-for-ecore-models"><span class="octicon octicon-link"></span></a>Example 1: N-Queens
	</h3>

	<p>N-Queens is a more general version of the <a href="http://en.wikipedia.org/wiki/Eight_queens_puzzle">Eight Queens Puzzle</a>. The goal is to position <em>N</em> queens on a chess board such that no queen shares the same row, column, or diagonal. </p>
	<p>This example is written as a tutorial that explains the different aspects of Crepe.</p>
	<ol>
	  <li><strong>Defining the problem metamodel</strong>
		<p>In these examples, we use a textual notation called <a href="https://www.eclipse.org/emfatic/">Emfatic</a> to specify our metamodels. Emfatic generates a .ecore file from this notation. If you prefer to create your Ecore model in an alternative way, such as using the Ecore tree editor, that is totally fine.</p>
		<p>Create a file in the metamodels folder called <code>Queens.emf</code>. The metamodel (in Emfatic) for the N-Queens problem looks as follows:</p>
		<div id="foo">hello</div>
		<pre><code>
@namespace(uri="Queens", prefix="Queens")
package Queens;

class Board {
   val Queen[*] queens;
}

class Queen {
   attr int row = -1;
   attr int col = -1;
}
		</code></pre>
		<p>Our metamodel contains just two meta-classes. A <code>Board</code> object <em>contains</em> a number of <code>Queen</code>s, and each queen has fields stating their position on the board. Our solution model(s) to the N-Queens problem will have a single <code>Board</code> object which contains <em>N</em> <code>Queen</code> objects whose positions meet the criteria of not being on the same row, column, or diagonal. </p>
	  </li>
	  <li><strong>Specifying the fitness function</strong>
		<p>To define a fitness function for our problem, we need to implement an operation called <code>doEvaluateFitness</code>:</p>
		<pre><code>
operation doEvaluateFitness(candidate:MM!EObject) : Real {  
  // To do: complete
}
		</code></pre>
		<p>
		  Each candidate solution produced by Crepe is passed to this operation for evaluation. The <code>candidate</code> field is an object conforming to the <code class="glossary">root object</code>
		</p>
	  </li>
	  <li><strong>Creating a problem configuration model</strong>
		<p>sds</p>
	  </li>
	  <li><strong>Configuring the build.xml</strong>
		<p>sds</p>
	  </li>
	</ol>
  </article>
  <article class="right">
	<h3>
	  <a name="tsp" class="anchor" href="#tsp"><span class="octicon octicon-link"></span></a>Example 2: Travelling Salesman
	</h3>

	<p>Crepe makes it easy to apply metaheuristic optimisation to MDE problems. Crepe is general purpose in that it will search over the space of models conforming to any Ecore metamodel. You don't need to develop bespoke metaheuristic operators for your problem; Crepe bootstraps the process allowing you to experiment with the problem domain before investing time in custom operators and algorithms.</p>
  </article>
  </section>
  <section>
  <article class="right">
	<h3>
	  <a name="nrp" class="anchor" href="#nrp"><span class="octicon octicon-link"></span></a>Example 3: Next Release Problem
	</h3>

	<p>Documentation is a little light at the minute, but take a look at the <a href="#">examples</a> or my <a href="#">thesis</a>, and feel free to contact me at <a href="mailto:james.r.williams@york.ac.uk">james.r.williams@york.ac.uk</a> if you have any questions.</p>
  </article>
  </section>
	  <footer>
	  </footer>
	</div>
	<script src="javascripts/scale.fix.js"></script>
	
  </body>
</html>